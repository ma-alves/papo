{% load static %}
<div id="chat-list" class="flex flex-col bg-white border-black border-r-2 relative">
    <div class="flex p-3 bg-white sticky top-0 z-10">
        <h2 class="text-2xl font-bold text-black">Conversas</h2>
    </div>
    {% for chat in request.user.chats.all %}
        {% for user in chat.users.all %}
            {% if user != request.user %}
            <a href="{% url 'chat' chat.chat_uuid %}">
                <div class="flex items-center font-medium gap-2 p-2 hover:bg-emerald-300 rounded-lg z-0 overflow-y-auto grow">
                    <img class="w-10 h-10 rounded-full object-cover" src="{% static 'img/profile-pic.png' %}">
                    {{ user.username }}
                    {% if user.status.online_status %}
                    <span id="ws-{{ user.id }}" class="inline-block w-3 h-3 bg-emerald-400 rounded-full ml-auto"
                        title="Online"></span>
                    {% else %}
                    <span id="ws-{{ user.id }}" class="hidden" title="Offline"></span>
                    {% endif %}
                </div>
            </a>
            {% endif %}
        {% endfor %}
    {% endfor %}
</div>